# Система контроля доступа
Освоение средств контроля и управления доступом пользователей к ресурсам ОС
## Постановка задачи
Необходимо реализовать программу, которая может выполнять следующие действияЖ
- Создание файла;
- Чтение из файла и вывод в консоль;
- Возможность добавление текста в файл (запись);
- Изменение атрибута на “Только для чтения” (read-only);
- Изменение атрибута на “Запись” (read-write);
- Изменение атрибута на “Скрытый” (hidden);

Также необходимо разобраться со встроенной в OS Windows подсистемой контроля доступа.
## Теоретические исследования
Подсистемы контроля и управления доступом в операционной системе Windows отличается высокой степенью гибкости, которая достигается за счёт разнообразия защищаемых субъектов и объектов доступа, а также дифференциации видов доступа. Контроль доступа выполняется централизованно с помощью компонента операционной системы – монитора безопасности. 

**Права доступа** – множество операций, которые определены для субъектов доступа (например, пользователей и групп) по отношению к объектам доступа (например, файлам каталогам и так далее).

**Права доступа, установленные группе,** — автоматически предоставляются всем ее участникам (членам группы), позволяя администратору рассматривать множество пользователей как учетную единицу и минимизировать свои действия по управлению правами.

Всем идентифицируемым объектам доступа, включая файлы, потоки, процессы, объекты ядра, объекты синхронизации процессов, события и пр., при создании присваивается дескриптор (описатель) безопасности.

Дескриптор безопасности содержит список контроля доступа – **Access Control List (ACL).**

Список контроля доступа состоит из набора записей контроля доступа – **Access Control Entry (АСЕ).**

При запросе процессом доступа к объекту управление передается монитору безопасности, который сравнивает идентификаторы пользователя и группы пользователей из маркера доступа с идентификаторами, хранящимися в записях ACE из ACL. объекта. Процесс в течение сеанса работы может осуществлять доступ ко многим объектам, а количество активных процессов и проверяемых АСЕ в каждый момент времени довольно большое, поэтому монитор безопасности проверяет возможность доступа процесса к объекту только при его открытии (получении идентификатора), а не при каждом обращении.

Для управления правами доступа к файловым объектам существует графический интерфейс операционной системы. Выбрав в контекстном меню файла или каталога пункт "Свойства", необходимо перейти на вкладку "Безопасность". На вкладке "Безопасность" в свойствах объекта представлен упрощенный интерфейс управления правами. При нажатии на кнопку "Дополнительно" появляется окно дополнительных параметров безопасности объекта, в котором можно изменить владельца объекта, тонко настроить ACLx. и наследование прав, рассчитать для конкретного субъекта доступа список действующих разрешений.
## Описание решения
Программа, в основном реализована с помощью функции SetFileAttributes(), которая, благодаря различным макросам меняет атрибуты файла (read-only, rear-write, hidden). Далее, благодаря операциям с файлами (fopen, fscanf, fputs), были реализованы операции создания, чтения и записи в файл. 

Узнать заданные атрибуты файла можно благодаря функции GetFileAttribues(), которая возвращает макрос. Далее он сравнивается и атрибутом, запрошенным в программе.
